{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/utils/Notifications.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/img/sandwich.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","concat","nearEnv","_initializeContract","_asyncToGenerator","_regeneratorRuntime","mark","_callee","near","wrap","_context","prev","next","connect","Object","assign","keyStore","keyStores","BrowserLocalStorageKeyStore","sent","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","stop","apply","arguments","accountBalance","_accountBalance","_callee2","_context2","t0","formatNearAmount","getAccountBalance","t1","total","abrupt","login","requestSignIn","contractId","logout","signOut","location","reload","Wallet","_ref","address","amount","symbol","destroy","_jsx","_Fragment","children","_jsxs","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Notification","ToastContainer","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","_ref2","DefaultProps","defaultProps","AddProduct","save","_useState","useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","image","setImage","_useState5","_useState6","description","setDescription","_useState7","_useState8","setLocation","_useState9","_useState10","price","setPrice","_useState11","_useState12","show","setShow","handleClose","Button","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","utils","format","Loader","role","GAS","buyProduct","_x","_buyProduct","productId","Products","products","setProducts","loading","setLoading","getProducts","useCallback","t2","console","log","error","finish","addProduct","data","uuid4","parseNearAmount","setProduct","then","resp","toast","_ref3","_callee3","_context3","_x2","_x3","useEffect","Row","xs","sm","lg","map","_product","_objectSpread","Cover","coverImg","background","minHeight","maxWidth","App","balance","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","React","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.fc8127c3.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"marketplace.sammie01.testnet\"; // line 1\r\n\r\nfunction environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\": // line 5\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\": // line 14\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.testnet.near.org\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://explorer.testnet.near.org\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\nexport default environment;","import environment from \"./config\";\r\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\n\r\n\r\nexport async function initializeContract() {\r\n    const near = await connect(\r\n      Object.assign(\r\n        { keyStore: new keyStores.BrowserLocalStorageKeyStore() },\r\n        nearEnv\r\n      )\r\n    );\r\n    window.walletConnection = new WalletConnection(near);\r\n    window.accountId = window.walletConnection.getAccountId();\r\n    window.contract = new Contract(\r\n      window.walletConnection.account(),\r\n      nearEnv.contractName,\r\n      {\r\n        viewMethods: [\"getProduct\", \"getProducts\"],\r\n        changeMethods: [\"buyProduct\", \"setProduct\"],\r\n      }\r\n    );\r\n  }\r\n\r\n  export async function accountBalance() {\r\n    return formatNearAmount(\r\n      (await window.walletConnection.account().getAccountBalance()).total,\r\n      2\r\n    );\r\n  }\r\n  \r\n  export async function getAccountId() {\r\n    return window.walletConnection.getAccountId();\r\n  }\r\n  \r\n  export function login(env) {\r\n    return window.walletConnection.requestSignIn({\r\n      contractId: env.contractName,\r\n    });\r\n  }\r\n  \r\n  export function logout() {\r\n    window.walletConnection.signOut();\r\n    window.location.reload();\r\n  }","import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\nconst Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            align=\"end\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;","import React from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Notification = () => (\r\n  <ToastContainer\r\n    position=\"bottom-center\"\r\n    autoClose={5000}\r\n    hideProgressBar\r\n    newestOnTop\r\n    closeOnClick\r\n    rtl={false}\r\n    pauseOnFocusLoss\r\n    draggable={false}\r\n    pauseOnHover\r\n  />\r\n);\r\n\r\nconst NotificationSuccess = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationError = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst Props = {\r\n  text: PropTypes.string,\r\n};\r\n\r\nconst DefaultProps = {\r\n  text: \"\",\r\n};\r\n\r\nNotificationSuccess.propTypes = Props;\r\nNotificationSuccess.defaultProps = DefaultProps;\r\n\r\nNotificationError.propTypes = Props;\r\nNotificationError.defaultProps = DefaultProps;\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst AddProduct = ({ save }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const isFormFilled = () => name && image && description && location && price;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleShow}\r\n        variant=\"dark\"\r\n        className=\"rounded-pill px-0\"\r\n        style={{ width: \"38px\" }}\r\n      >\r\n        <i class=\"bi bi-plus\"></i>\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Body>\r\n            <FloatingLabel\r\n              controlId=\"inputName\"\r\n              label=\"Product name\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                placeholder=\"Enter name of product\"\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputUrl\"\r\n              label=\"Image URL\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onChange={(e) => {\r\n                  setImage(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputDescription\"\r\n              label=\"Description\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"description\"\r\n                style={{ height: \"80px\" }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputLocation\"\r\n              label=\"Location\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Location\"\r\n                onChange={(e) => {\r\n                  setLocation(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputPrice\"\r\n              label=\"Price\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                onChange={(e) => {\r\n                  setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"dark\"\r\n            disabled={!isFormFilled()}\r\n            onClick={() => {\r\n              save({\r\n                name,\r\n                image,\r\n                description,\r\n                location,\r\n                price,\r\n              });\r\n              handleClose();\r\n            }}\r\n          >\r\n            Save product\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nAddProduct.propTypes = {\r\n  save: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddProduct;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\r\n\r\nconst Product = ({ product, buy }) => {\r\n  const { id, price, name, description, sold, location, image, owner } =\r\n    product;\r\n\r\n  const triggerBuy = () => {\r\n    buy(id, price);\r\n  };\r\n\r\n  return (\r\n    <Col key={id}>\r\n      <Card className=\" h-100\">\r\n        <Card.Header>\r\n          <Stack direction=\"horizontal\" gap={2}>\r\n            <span className=\"font-monospace text-secondary\">{owner}</span>\r\n            <Badge bg=\"secondary\" className=\"ms-auto\">\r\n              {sold} Sold\r\n            </Badge>\r\n          </Stack>\r\n        </Card.Header>\r\n        <div className=\" ratio ratio-4x3\">\r\n          <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\r\n        </div>\r\n        <Card.Body className=\"d-flex  flex-column text-center\">\r\n          <Card.Title>{name}</Card.Title>\r\n          <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\r\n          <Card.Text className=\"text-secondary\">\r\n            <span>{location}</span>\r\n          </Card.Text>\r\n          <Button\r\n            variant=\"outline-dark\"\r\n            onClick={triggerBuy}\r\n            className=\"w-100 py-3\"\r\n          >\r\n            Buy for {utils.format.formatNearAmount(price)} NEAR\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.instanceOf(Object).isRequired,\r\n  buy: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Product;","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;","import { v4 as uuid4 } from \"uuid\";\r\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function createProduct(product) {\r\n  product.id = uuid4();\r\n  product.price = parseNearAmount(product.price + \"\");\r\n  return window.contract.setProduct({ product }); // set_product for the Rust contract\r\n}\r\n\r\nexport function getProducts() {\r\n  return window.contract.getProducts(); // get_products for the Rust contract\r\n}\r\n\r\nexport async function buyProduct({ id, price }) {\r\n  await window.contract.buyProduct({ productId: id }, GAS, price); // buy_product for the Rust contract\r\n}","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport AddProduct from './AddProduct';\r\nimport Product from './Product';\r\nimport Loader from '../utils/Loader';\r\nimport { Row } from 'react-bootstrap';\r\nimport { NotificationSuccess, NotificationError } from '../utils/Notifications';\r\nimport {\r\n  getProducts as getProductList,\r\n  buyProduct,\r\n  createProduct,\r\n} from '../../utils/marketplace';\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProducts(await getProductList());\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  });\r\n\r\n  const addProduct = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n      toast(<NotificationSuccess text=\"Product added successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Failed to create a product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buy = async (id, price) => {\r\n    try {\r\n      await buyProduct({\r\n        id,\r\n        price,\r\n      }).then((resp) => getProducts());\r\n      toast(<NotificationSuccess text=\"Product bought successfully\" />);\r\n    } catch (error) {\r\n      toast(<NotificationError text=\"Failed to purchase product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1 className=\"fs-4 fw-bold mb-0\">Street Food</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\r\n            {products.map((_product) => (\r\n              <Product\r\n                product={{\r\n                  ..._product,\r\n                }}\r\n                buy={buy}\r\n              />\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nconst Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-center flex-column text-center \"\r\n        style={{ background: '#000', minHeight: '100vh' }}>\r\n        <div className=\"mt-auto text-light mb-5\">\r\n          <div\r\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\r\n            style={{ maxWidth: '320px' }}>\r\n            <img src={coverImg} alt=\"\" />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button\r\n            onClick={login}\r\n            variant=\"outline-light\"\r\n            className=\"rounded-pill px-3 mt-3\">\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nCover.propTypes = {\r\n  name: PropTypes.string,\r\n};\r\n\r\nCover.defaultProps = {\r\n  name: '',\r\n};\r\n\r\nexport default Cover;\r\n","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","// import React, { useCallback, useEffect, useState } from 'react';\r\n// import './App.css';\r\n// import { getProducts } from './utils/marketplace';\r\n// import { login, logout as destroy, accountBalance } from './utils/near';\r\n// import React, { useEffect, useCallback, useState } from 'react';\r\n// import { Container, Nav } from 'react-bootstrap';\r\n// import { login, logout as destroy, accountBalance } from './utils/near';\r\n// import Wallet from './components/Wallet';\r\n// // import { Notification } from \"./components/utils/Notifications\";\r\n// // import Products from \"./components/marketplace/Products\";\r\n// import Cover from './components/utils/Cover';\r\n// import coverImg from './assets/img/sandwich.jpg';\r\n// import './App.css';\r\n\r\n// function App() {\r\n//   const account = window.walletConnection.account();\r\n//   const [products, setProducts] = useState([]);\r\n//   const fetchProducts = useCallback(async () => {\r\n//     if (account.accountId) {\r\n//       setProducts(await getProducts());\r\n//     }\r\n//   });\r\n//   useEffect(() => {\r\n//     fetchProducts();\r\n//   }, []);\r\n//   return (\r\n//     <>\r\n//       {account.accountId ? (\r\n//         products.forEach((product) => console.log(product))\r\n//       ) : (\r\n//         <button onClick={login}>CONNECT WALLET</button>\r\n//       )}\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default App;\r\n\r\nimport React, { useEffect, useCallback, useState } from 'react';\r\nimport { Container, Nav } from 'react-bootstrap';\r\nimport { login, logout as destroy, accountBalance } from './utils/near';\r\nimport Wallet from './components/Wallet';\r\nimport { Notification } from \"./components/utils/Notifications\";\r\nimport Products from \"./components/marketplace/Products\";\r\nimport Cover from './components/utils/Cover';\r\nimport coverImg from './assets/img/sandwich.jpg';\r\nimport './App.css';\r\n\r\nconst App = function AppWrapper() {\r\n  const account = window.walletConnection.account();\r\n  const [balance, setBalance] = useState(\"0\");\r\n  const getBalance = useCallback(async () => {\r\n    if (account.accountId) {\r\n      setBalance(await accountBalance());\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    getBalance();\r\n  }, [getBalance]);\r\n\r\n  return (\r\n    <>\r\n      <Notification />\r\n      {account.accountId ? (\r\n        <Container fluid=\"md\">\r\n          <Nav className=\"justify-content-end pt-3 pb-5\">\r\n            <Nav.Item>\r\n              <Wallet\r\n                address={account.accountId}\r\n                amount={balance}\r\n                symbol=\"NEAR\"\r\n                destroy={destroy}\r\n              />\r\n            </Nav.Item>\r\n          </Nav>\r\n          <main><Products /></main>\r\n        </Container>\r\n      ) : (\r\n        <Cover name=\"Street Food\" login={login} coverImg={coverImg} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// import React from 'react';\r\n// import ReactDOM from 'react-dom/client';\r\n// import './index.css';\r\n// import App from './App';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\n// const root = ReactDOM.createRoot(document.getElementById('root'));\r\n// root.render(\r\n//   <React.StrictMode>\r\n//     <App />\r\n//   </React.StrictMode>\r\n// );\r\n\r\n// // If you want to start measuring performance in your app, pass a function\r\n// // to log results (for example: reportWebVitals(console.log))\r\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { initializeContract } from './utils/near';\r\n\r\nimport 'bootstrap';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nwindow.nearInitPromise = initializeContract()\r\n  .then(() => {\r\n    ReactDOM.render(\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>,\r\n      document.getElementById('root')\r\n    );\r\n  })\r\n  .catch(console.error);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}